local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()
local Window = Library:NewWindow("Fisch by Zxysynap")
--local Window2 = Library:NewWindow("Island")
local Section = Window:NewSection("Casting Options")
local SectionTP = Window:NewSection("Island")
--local Section2 = Window2:NewSection("Teleport")
local player = game:GetService("Players").LocalPlayer
local runService = game:GetService("RunService")
local playerGui = player:WaitForChild("PlayerGui")
local GuiService = game:GetService("GuiService")
local virtualInput = game:GetService("VirtualInputManager")
local isAutoClicking = false
local isAutoClicking1 = false
local isAutoCasting = false 

local Locations = {
    ["Desolate Deep"] = CFrame.new(-1659, -214, -2847),
    ["Sunstone"] = CFrame.new(-918, 135, -1123),
    ["Statue of Sovereignty"] = CFrame.new(26, 159, -1037),
    ["The Arch"] = CFrame.new(988, 131, -1238),
    ["MushGrove Swamp"] = CFrame.new(2438, 132, -689),
    ["Snowcap"] = CFrame.new(2618, 146, 2402),
    ["Terrapin"] = CFrame.new(-189, 143, 1926),
    ["Roslit"] = CFrame.new(-1482, 138, 738),
    ["MooseWood"] = CFrame.new(384, 134, 232)
}

local function isRodEquipped()
    return player.Character and player.Character:FindFirstChildWhichIsA("Tool") and player.Character:FindFirstChildWhichIsA("Tool").Name:lower():find("rod")
end

local function equipRod()
    for _, tool in ipairs(player.Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool.Name:lower():find("rod") then
            player.Character.Humanoid:EquipTool(tool)
            return tool
        end
    end
end

local function reelCasting()
    if isAutoCasting then
        local character = player.Character or player.CharacterAdded:Wait()
        local rootPart = character:WaitForChild("HumanoidRootPart")

        local equippedTool = isRodEquipped() and player.Character:FindFirstChildWhichIsA("Tool") or equipRod()

        if equippedTool then
            local castEvent = equippedTool:FindFirstChild("events") and equippedTool.events:FindFirstChild("cast")
            local resetEvent = equippedTool:FindFirstChild("events") and equippedTool.events:FindFirstChild("reset")
            if castEvent then
                castEvent:FireServer(100, 1)
            elseif resetEvent then
                resetEvent:FireServer()
            end
        end
    end
end

Section:CreateToggle("Auto Cast", function(value)
    isAutoCasting = value
end)

runService.RenderStepped:Connect(reelCasting)

local function autoClick2()
    if isAutoClicking1 then
        local GuiService = game:GetService('GuiService')
        local button = game:GetService("Players").LocalPlayer.PlayerGui.shakeui.safezone:FindFirstChild("button")
        GuiService.SelectedObject = button
        if GuiService.SelectedObject == button then
            virtualInput:SendKeyEvent(true, Enum.KeyCode.Return, false, game)
            virtualInput:SendKeyEvent(false, Enum.KeyCode.Return, false, game)
        end
    end
end

Section:CreateToggle("Auto Shake(Fast&Best)", function(value)
    isAutoClicking1 = value
end)

runService.RenderStepped:Connect(autoClick2)

local isAutoCatch = false
Section:CreateToggle("Instant Perfect Catch", function(value)
    isAutoCatch = value
end)

local function startCatching()
    local reelBar = playerGui:FindFirstChild("reel") and playerGui.reel:FindFirstChild("bar")
    if reelBar and isAutoCatch then
        game:GetService("ReplicatedStorage").events.reelfinished:FireServer(100, true)
    end
end

runService.RenderStepped:Connect(startCatching)

SectionTP:CreateDropdown("DropDown", {"Desolate Deep", "Sunstone", "Statue of Sovereignty", "The Arch", "MushGrove Swamp", "Snowcap", "Terrapin", "Roslit", "MooseWood"}, 2, function(selectedLocation)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    
    if Locations[selectedLocation] then
        local rootPart = character:WaitForChild("HumanoidRootPart")
        rootPart.CFrame = Locations[selectedLocation]
    end
end)

task.spawn(function()
    while wait(320) do
        pcall(function()
            local anti = game:GetService("VirtualUser")
            game:GetService("Players").LocalPlayer.Idled:connect(function()
                anti:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
                wait(1)
                anti:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
            end)
        end)
    end
end)
